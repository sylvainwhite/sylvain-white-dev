---
layout: default
---

<div class="page-content">
  <h1>
    {{ page.title }}
  </h1>

  <span class="post-date">
    {{ site.data.settings.post_date_prefix }}
    {% assign d = page.date | date: "%-d"  %}
    {{ page.date | date: "%B" }}
    {% case d %}
      {% when '1' or '21' or '31' %}{{ d }}st
      {% when '2' or '22' %}{{ d }}nd
      {% when '3' or '23' %}{{ d }}rd
      {% else %}{{ d }}th{% endcase %},
    {{ page.date | date: "%Y" }}
    by
    {% if page.author %}
      {{ page.author }}
    {% else %}
      {{ site.author }}
    {% endif %}
  </span>

  {% if page.image %}
    <div class="featured-image">
      <img src="{{ site.github.url }}/assets/img/{{ page.image }}">
    </div>
  {% endif %}

  <article>
    {{ content }}
  </article>

  {% if page.categories contains "misc" %}
  <!-- Don't show any 'related posts' here since miscellaneous means they are not related...-->
  {% else %}
    <div class="related">
      <div>{{ site.data.settings.related_posts }}</div>
      {% assign listed_posts_urls = page.url | split: ' ' %}
      <ul class="related-posts">
        {% for tag in page.tags %}
          {% for mypost in site.tags[tag] limit:2 %}
            {% if listed_posts_urls contains mypost.url %}
            {% else %}
              <li>
                <small>{{ mypost.date | date: "%B %-d, %Y" }}</small>
                <h3>                           
                  <a href="{{ site.github.url }}{{ mypost.url }}">
                    <div>
                      {{ mypost.title }}
                    </div>
                  </a>
                </h3>
              </li>
              {% assign listed_posts_urls = listed_posts_urls | push: mypost.url %}
            {% endif %}
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
  {% endif %}    

  {% if site.data.settings.disqus.comments %}
    {% include disqus.html %}
  {% endif %}

</div>
